<!doctype html>
<html lang="en">
{% load static %}
<head>
	<meta charset="utf-8" />
	<link rel="icon" type="image/png" href="/static/fatigue/img/favicon.ico">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>Fatigue by E2G</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />


    <!-- Bootstrap core CSS     -->
    <link href="/static/fatigue/css/bootstrap.min.css" rel="stylesheet" />

    <!--  Light Bootstrap Dashboard core CSS    -->
    <link href="/static/fatigue/css/light-bootstrap-dashboard.css" rel="stylesheet"/>

    <!-- Latest compiled and minified CSS -->
    <link href="/static/fatigue/image-picker-master/image-picker/image-picker.css" rel="stylesheet" />

    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,700,300' rel='stylesheet' type='text/css'>
    <link href="/static/fatigue/css/pe-icon-7-stroke.css" rel="stylesheet" />

</head>
<body>

<div class="wrapper">
    <div class="sidebar" data-color="blue" data-image="/static/fatigue/img/full-screen-image-3.jpg">
        <!--

            Tip 1: you can change the color of the sidebar using: data-color="blue | rust | green | orange | red | purple"
            Tip 2: you can also add an image using data-image tag

        -->

        <div class="logo">
            <a href="/fatigue/" class="logo-text">
                Fatigue by E2G
            </a>
        </div>

    	<div class="sidebar-wrapper">
            <div class="user">
                <div class="photo">
                    <img src="/static/fatigue/img/e2g.jpg" />
                </div>
                <div class="info">
                    <a data-toggle="collapse" href="#collapseExample" class="collapsed">
                        Username
                        <b class="caret"></b>
                    </a>
                    <div class="collapse" id="collapseExample">
                        <ul class="nav">
                            <li><a href="/fatigue/user/">Edit Profile</a></li>
                            <li><a href="/fatigue/settings/">Settings</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <ul class="nav">

                <div class="user">
                    <li>
                        <a href="/fatigue/">
                            <i class="pe-7s-graph"></i>
                            <p>Welcome
                            </p>
                        </a>
                    </li>
                </div>

                <div class="user">
                    <li>
                        <a data-toggle="collapse" href="#modelselections" class="collapsed">
                            <i class="pe-7s-plugin"></i>
                            <p>Create Model
                               <b class="caret"></b>
                            </p>
                        </a>
                        <div class="collapse" id="modelselections">
                            <ul class="nav">
                                <li><a href="/fatigue/modelwizard/">Model Wizard</a></li>
                                <li><a href="/fatigue/modelselection/">Model Selection</a></li>
                            </ul>
                        </div>
                    </li>
                </div>

                <div class="user">
                    <li class="active">
                        <a data-toggle="collapse" href="#UniaxialCollapse" class="collapse in">
                            <i class="pe-7s-graph"></i>
                            <p>Uniaxial
                                <b class="caret"></b>
                            </p>
                        </a>
                        <div class="collapse in" id="UniaxialCollapse">
                            <ul class="nav">

                                {% if PlasticityIdentifier == 'yes' %}
                                    <form method=POST action="/fatigue/uniaxial/uniplasticity/" id='uniplasticityform'>{% csrf_token %}
                                    <input name="uniplasticity" id="item4" value="yes" class="hidden" autocomplete="off">
                                    {% if CycleIdentifier == 'yes' %}
                                        <input name="unicycle" id="item4" value="yes" class="hidden" autocomplete="off">
                                    {% endif %}
                                    {% if DamageIdentifier == 'yes' %}
                                        <input name="unidamage" id="item4" value="yes" class="hidden" autocomplete="off">
                                    {% endif %}
                                    <li><a href="javascript: submitForm('#uniplasticityform');">Plasticity Correction</a></li>
                                    </form>
                                {% endif %}

                                {% if CycleIdentifier == 'yes' %}
                                    <form method=POST action="/fatigue/uniaxial/unicycle/" id='unicycleform'>{% csrf_token %}
                                    {% if PlasticityIdentifier == 'yes' %}
                                        <input name="uniplasticity" id="item4" value="yes" class="hidden" autocomplete="off">
                                    {% endif %}
                                    <input name="unicycle" id="item4" value="yes" class="hidden" autocomplete="off">
                                    {% if DamageIdentifier == 'yes' %}
                                        <input name="unidamage" id="item4" value="yes" class="hidden" autocomplete="off">
                                    {% endif %}
                                    <li><a href="javascript: submitForm('#unicycleform');">Cycle Counting</a></li>
                                    </form>
                                {% endif %}

                                {% if DamageIdentifier == 'yes' %}
                                    <form method=POST action="/fatigue/uniaxial/unidamage/" id='unidamageform'>{% csrf_token %}
                                    {% if PlasticityIdentifier == 'yes' %}
                                        <input name="uniplasticity" id="item4" value="yes" class="hidden" autocomplete="off">
                                    {% endif %}
                                    {% if CycleIdentifier == 'yes' %}
                                        <input name="unicycle" id="item4" value="yes" class="hidden" autocomplete="off">
                                    {% endif %}
                                    <input name="unidamage" id="item4" value="yes" class="hidden" autocomplete="off">
                                    <li><a href="javascript: submitForm('#unidamageform');">Fatigue Damage</a></li>
                                    </form>
                                {% endif %}

                                {% if PlasticityIdentifier == 'yes' or CycleIdentifier == 'yes' or DamageIdentifier == 'yes'%}
                                    <form method=POST action="/fatigue/uniaxial/uniresults/" id='uniresultsform'>{% csrf_token %}
                                    {% if PlasticityIdentifier == 'yes' %}
                                        <input name="uniplasticity" id="item4" value="yes" class="hidden" autocomplete="off">
                                    {% endif %}
                                    {% if CycleIdentifier == 'yes' %}
                                        <input name="unicycle" id="item4" value="yes" class="hidden" autocomplete="off">
                                    {% endif %}
                                    {% if DamageIdentifier == 'yes' %}
                                        <input name="unidamage" id="item4" value="yes" class="hidden" autocomplete="off">
                                    {% endif %}
                                    <li><a href="javascript: submitForm('#uniresultsform');">Results</a></li>
                                    </form>
                                {% endif %}
                            </ul>
                        </div>
                    </li>
                </div>

                {% comment %}
                <div class="user">
                    <li>
                        <a href="#uniresultscontainer">
                            <i class="pe-7s-graph"></i>
                            <input type="submit" value="COMPUTE!" class='btn btn-primary'></form>
                        </a>
                    </li>
                </div>
                {% endcomment %}

            </ul>
    	</div>
    </div>

    <nav class="navbar navbar-default navbar-fixed">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
		</div>

		<div class="collapse navbar-collapse">

		    <ul class="nav navbar-nav navbar-left">
		            <h3 class='nav-font'>Uniaxial</h3>
	        </ul>

			<ul class="nav navbar-nav navbar-right">

				<li>
					<a href="/fatigue/software/">
						<i class="fa fa-line-chart"></i>
						<p>Software</p>
					</a>
				</li>

				<li>
					<a href="https://www.equityeng.com/about-us/mission-vision/">
						<i class="fa fa-line-chart"></i>
						<p>About Us</p>
					</a>
				</li>

				<li>
					<a href="/contact/">
						<i class="fa fa-line-chart"></i>
						<p>Contact Us</p>
					</a>
				</li>

			</ul>
		</div>
	</nav>

    <div class="main-panel">

        <div class="content" style="background-image: url('{% get_static_prefix %}homepage/RefineryBackground.png');">
            <div class="container-fluid">
                </br>
                <div class="row">
                    <h1 class='text-center'>Uniaxial Welcome Page</h1>
                    <hr>
                </div>
                <div class='row'>
                    <div class="col-md-8 col-md-offset-2">
                        </br>
                        <div class="card ">
                            <div class="content">
                                <iframe width="100%" height='500pt' src="https://www.youtube.com/embed/xiM510Wo8aQ" frameborder="0" allowfullscreen></iframe>
                            </div>
                        </div>
                    </div>
                </div>

                {% if PlasticityIdentifier == 'yes' %}
                    <form method=POST action="/fatigue/uniaxial/uniplasticity/" enctype="multipart/form-data">{% csrf_token %}
                    <input name="uniplasticity" id="item4" value="yes" class="hidden" autocomplete="off">
                    {% if CycleIdentifier == 'yes' %}
                        <input name="unicycle" id="item4" value="yes" class="hidden" autocomplete="off">
                    {% endif %}
                    {% if DamageIdentifier == 'yes' %}
                        <input name="unidamage" id="item4" value="yes" class="hidden" autocomplete="off">
                    {% endif %}
                    <h1 class="text-center">
                        <input type="submit" value="Let's Get Started (Plasticity Correction)" class='btn btn-add'></form>
                    </h1></br>
                {% endif %}

                {% if PlasticityIdentifier != 'yes' and CycleIdentifier == 'yes' %}
                    <form method=POST action="/fatigue/uniaxial/unicycle/" enctype="multipart/form-data">{% csrf_token %}
                    <input name="unicycle" id="item4" value="yes" class="hidden" autocomplete="off">
                    {% if DamageIdentifier == 'yes' %}
                        <input name="unidamage" id="item4" value="yes" class="hidden" autocomplete="off">
                    {% endif %}
                    <h1 class="text-center">
                        <input type="submit" value="Let's Get Started (Cycle Counting)" class='btn btn-add'></form>
                    </h1></br>
                {% endif %}

                {% if PlasticityIdentifier != 'yes' and CycleIdentifier != 'yes' and DamageIdentifier == 'yes' %}
                    <form method=POST action="/fatigue/uniaxial/unidamage/" enctype="multipart/form-data">{% csrf_token %}
                    <input name="unidamage" id="item4" value="yes" class="hidden" autocomplete="off">
                    <h1 class="text-center">
                        <input type="submit" value="Let's Get Started (Fatigue Damage)" class='btn btn-add'></form>
                    </h1></br>
                {% endif %}
            </div>
        </div>

        <footer class="footer">
            <div class="container-fluid">
                <nav class="pull-left">
                    <ul>
                        <li>
                            <a href="/fatigue/">
                                Dashboard
                            </a>
                        </li>
                        <li>
                            <a href="www.equityeng.com">
                                Company
                            </a>
                        </li>
                        <li>
                            <a href="https://www.equityeng.com/about-us/mission-vision/">
                                Portfolio
                            </a>
                        </li>
                        <li>
                            <a href="/contact/">
                               Contact Us
                            </a>
                        </li>
                    </ul>
                </nav>
                <p class="copyright pull-right">
                    &copy; 2016 <a href="http://www.equityeng.com">The Equity Engineering Group, Inc.</a>
                </p>
            </div>
        </footer>

    </div>
</div>


</body>
    <!--   Core JS Files   -->
    <script src="/static/fatigue/js/jquery.min.js" 	type="text/javascript"></script>
    <script src="/static/fatigue/js/jquery-ui.min.js" 	type="text/javascript"></script>
	<script src="/static/fatigue/js/bootstrap.min.js" 	type="text/javascript"></script>


	<!--  Forms Validations Plugin -->
	<script src="/static/fatigue/js/jquery.validate.min.js"></script>

	<!--  Plugin for Date Time Picker and Full Calendar Plugin-->
	<script src="/static/fatigue/js/moment.min.js"></script>

    <!--  Date Time Picker Plugin is included in this js file -->
    <script src="/static/fatigue/js/bootstrap-datetimepicker.js"></script>

    <!--  Select Picker Plugin -->
    <script src="/static/fatigue/js/bootstrap-selectpicker.js"></script>

	<!--  Checkbox, Radio, Switch and Tags Input Plugins -->
	<script src="/static/fatigue/js/bootstrap-checkbox-radio-switch-tags.js"></script>

	<!--  Charts Plugin -->
	<script src="/static/fatigue/js/chartist.min.js"></script>

    <!--  Notifications Plugin    -->
    <script src="/static/fatigue/js/bootstrap-notify.js"></script>

    <!-- Sweet Alert 2 plugin -->
	<script src="/static/fatigue/js/sweetalert2.js"></script>

    <!-- Vector Map plugin -->
	<script src="/static/fatigue/js/jquery-jvectormap.js"></script>

    <!--  Google Maps Plugin    -->
    <script src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>

	<!-- Wizard Plugin    -->
    <script src="/static/fatigue/js/jquery.bootstrap.wizard.min.js"></script>

    <!--  Datatable Plugin    -->
    <script src="/static/fatigue/js/bootstrap-table.js"></script>

    <!--  Full Calendar Plugin    -->
    <script src="/static/fatigue/js/fullcalendar.min.js"></script>

    <!-- Light Bootstrap Dashboard Core javascript and methods -->
	<script src="/static/fatigue/js/light-bootstrap-dashboard.js"></script>

	<!-- Latest compiled and minified JavaScript -->
    <script src="/static/fatigue/image-picker-master/image-picker/image-picker.js"></script>

    <!-- (Optional) Latest compiled and minified JavaScript translation files -->
    <script src="/static/fatigue/image-picker-master/image-picker/image-picker.min.js"></script>

    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>

	<script type="text/javascript">
    	$(document).ready(function(){

        	demo.initDashboardPageCharts();
        	demo.initVectorMap();

        	$.notify({
            	icon: 'pe-7s-bell',
            	message: "Welcome to the <b>Uniaxial Fatigue</b> welcome page, enjoy the intro video. Work your way through the forms for your model and then enjoy the results."

            },{
                type: 'warning',
                timer: 2000
            });

    	});
	</script>

	<script type="text/javascript">
        var $table = $('#bootstrap-table');

        function operateFormatter(value, row, index) {
            return [
                '<a rel="tooltip" title="View" class="btn btn-simple btn-info btn-icon table-action view" href="javascript:void(0)">',
                    '<i class="fa fa-image"></i>',
                '</a>',
                '<a rel="tooltip" title="Edit" class="btn btn-simple btn-warning btn-icon table-action edit" href="javascript:void(0)">',
                    '<i class="fa fa-edit"></i>',
                '</a>',
                '<a rel="tooltip" title="Remove" class="btn btn-simple btn-danger btn-icon table-action remove" href="javascript:void(0)">',
                    '<i class="fa fa-remove"></i>',
                '</a>'
            ].join('');
        }

        $().ready(function(){
            window.operateEvents = {
                'click .view': function (e, value, row, index) {
                    info = JSON.stringify(row);

                    swal('You click view icon, row: ', info);
                    console.log(info);
                },
                'click .edit': function (e, value, row, index) {
                    info = JSON.stringify(row);

                    swal('You click edit icon, row: ', info);
                    console.log(info);
                },
                'click .remove': function (e, value, row, index) {
                    console.log(row);
                    $table.bootstrapTable('remove', {
                        field: 'id',
                        values: [row.id]
                    });
                }
            };

            $table.bootstrapTable({
                toolbar: ".toolbar",
                clickToSelect: true,
                showRefresh: true,
                search: true,
                showToggle: true,
                showColumns: true,
                pagination: true,
                searchAlign: 'left',
                pageSize: 8,
                clickToSelect: false,
                pageList: [8,10,25,50,100],

                formatShowingRows: function(pageFrom, pageTo, totalRows){
                    //do nothing here, we don't want to show the text "showing x of y from..."
                },
                formatRecordsPerPage: function(pageNumber){
                    return pageNumber + " rows visible";
                },
                icons: {
                    refresh: 'fa fa-refresh',
                    toggle: 'fa fa-th-list',
                    columns: 'fa fa-columns',
                    detailOpen: 'fa fa-plus-circle',
                    detailClose: 'fa fa-minus-circle'
                }
            });

            //activate the tooltips after the data table is initialized
            $('[rel="tooltip"]').tooltip();

            $(window).resize(function () {
                $table.bootstrapTable('resetView');
            });

        });
    </script>

    <script type="text/javascript">
    // TABLE GENERATOR FOR LOADING HISTORY
        $(document).ready(function() {
            $("#add_row").on("click", function() {
                // Dynamic Rows Code

                // Get max row id and set new id
                var newid = 0;
                $.each($("#tab_logic tr"), function() {
                    if (parseInt($(this).data("id")) > newid) {
                        newid = parseInt($(this).data("id"));
                    }
                });
                newid++;

                var tr = $("<tr></tr>", {
                    id: "addr"+newid,
                    "data-id": newid
                });

                // loop through each td and create new elements with name of newid
                $.each($("#tab_logic tbody tr:nth(0) td"), function() {
                    var cur_td = $(this);

                    var children = cur_td.children();

                    // add new td and element if it has a nane
                    if ($(this).data("name") != undefined) {
                        var td = $("<td></td>", {
                            "data-name": $(cur_td).data("name")
                        });

                        var c = $(cur_td).find($(children[0]).prop('tagName')).clone().val("");
                        c.attr("name", $(cur_td).data("name") + newid);
                        c.appendTo($(td));
                        td.appendTo($(tr));
                    } else {
                        var td = $("<td></td>", {
                            'text': $('#tab_logic tr').length
                        }).appendTo($(tr));
                    }
                });

                // add delete button and td
                /*
                $("<td></td>").append(
                    $("<button class='btn btn-danger glyphicon glyphicon-remove row-remove'></button>")
                        .click(function() {
                            $(this).closest("tr").remove();
                        })
                ).appendTo($(tr));
                */

                // add the new row
                $(tr).appendTo($('#tab_logic'));

                $(tr).find("td button.row-remove").on("click", function() {
                     $(this).closest("tr").remove();
                });
        });


            // Sortable Code
            var fixHelperModified = function(e, tr) {
                var $originals = tr.children();
                var $helper = tr.clone();

                $helper.children().each(function(index) {
                    $(this).width($originals.eq(index).width())
                });

                return $helper;
            };

            $(".table-sortable tbody").sortable({
                helper: fixHelperModified
            }).disableSelection();

            $(".table-sortable thead").disableSelection();

            $("#add_row").trigger("click");
        });

    </script>

    <script type="text/javascript">
        $().ready(function(){

            $('#registerFormValidation').validate();
            $('#loginFormValidation').validate();
            $('#allInputsFormValidation').validate();

        });
    </script>

    <script type="text/javascript">
    // WIZARD SCRIPT
        $().ready(function(){

            var $validator = $("#wizardForm").validate({
    		  rules: {
    		    email: {
                    required: true,
                    email: true,
                    minlength: 5
    		    },
    		    first_name: {
    		        required: false,
                    minlength: 5
    		    },
    		    last_name: {
    		        required: false,
                    minlength: 5
    		    },
    		    website: {
    		        required: true,
                    minlength: 5,
                    url: true
    		    },
    		    framework: {
        		    required: false,
        		    minlength: 4
    		    },
    		    cities: {
        		    required: true
    		    },
    		    price:{
        		    number: true
    		    }
    		  }
    		});



            // you can also use the nav-pills-[blue | azure | green | orange | red] for a different color of wizard

            $('#wizardCard').bootstrapWizard({
            	tabClass: 'nav nav-pills',
            	nextSelector: '.btn-next',
                previousSelector: '.btn-back',
            	onNext: function(tab, navigation, index) {
            		var $valid = $('#wizardForm').valid();

            		if(!$valid) {
            			$validator.focusInvalid();
            			return false;
            		}
            	},
                onInit : function(tab, navigation, index){

                    //check number of tabs and fill the entire row
                    var $total = navigation.find('li').length;
                    $width = 100/$total;

                    $display_width = $(document).width();

                    if($display_width < 600 && $total > 3){
                       $width = 50;
                    }

                    navigation.find('li').css('width',$width + '%');
                },
                onTabClick : function(tab, navigation, index){
                    // Disable the posibility to click on tabs
                    return false;
                },
                onTabShow: function(tab, navigation, index) {
                    var $total = navigation.find('li').length;
                    var $current = index+1;

                    var wizard = navigation.closest('.card-wizard');

                    // If it's the last tab then hide the last button and show the finish instead
                    if($current >= $total) {
                        $(wizard).find('.btn-next').hide();
                        $(wizard).find('.btn-finish').show();
                    } else if($current == 1){
                        $(wizard).find('.btn-back').hide();
                    } else {
                        $(wizard).find('.btn-back').show();
                        $(wizard).find('.btn-next').show();
                        $(wizard).find('.btn-finish').hide();
                    }
                }

            });

        });

        function onFinishWizard(){
            //here you can do something, sent the form to server via ajax and show a success message with swal
            swal("Good job!", "You clicked the finish button!", "success");
        }
    </script>

    <script>
    function submitForm(id_input){
        $(id_input).submit();
    }
    </script>

</html>
